<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Prueba de Conversión</title>
</head>
<body>
  <h1>Conversión simple</h1>
  <input type="number" id="cantidad" placeholder="Monto">
  <select id="from">
    <option value="USD">USD</option>
    <option value="CRC">CRC</option>
  </select>
  <select id="to">
    <option value="USD">USD</option>
    <option value="CRC">CRC</option>
  </select>
  <button onclick="convertir()">Convertir</button>
  <p>Resultado: <span id="resultado">-</span></p>

  <script>
    function convertir() {
      const from = document.getElementById('from').value;
      const to = document.getElementById('to').value;
      const amount = parseFloat(document.getElementById('cantidad').value);

      fetch(`http://localhost/practica_3/backend/convertidor.php?from=${from}&to=${to}`)
        .then(res => res.json())
        .then(data => {
          if (data.rate) {
            document.getElementById('resultado').textContent = (amount * data.rate).toFixed(2);
          } else {
            alert("Error: " + data.error);
          }
        })
        .catch(err => {
          console.error(err);
          alert("Error de conexión con el servidor.");
        });
    }
  </script>
</body>
</html>
